<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Websocket</title>
</head>

<body>
    <input type="text" placeholder="Your access token" id="myInput">
    <p id="message"></p>
    <button type="button" onclick="connect();">Connect</button>

    <script>
        function connect(){
            // Your access token should start WITHOUT Bearer keyword
            // e.g. eyJraWQiOiI0YTI1NzJmOS1lODYzLTRiNjctOGM0Zi1mNjA4OWVmMzllMGYiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJnbG1hbmh0dUBnbWFpbC5jb20iLCJhdWQiOiJjaGF0LXdlYi1jbGllbnQtaWQiLCJuYmYiOjE2NzQ4NjkxMDYsInNjb3BlIjpbImdyb3Vwczp3cml0ZSIsInByb2ZpbGU6d3JpdGUiLCJtZXNzYWdlOnJlYWQiLCJvcGVuaWQiLCJwcm9maWxlIiwiZ3JvdXBzOnJlYWQiLCJtZXNzYWdlOndyaXRlIiwicHJvZmlsZTpyZWFkIl0sImlzcyI6Imh0dHA6Ly8xMjcuMC4wLjE6OTAwMCIsImV4cCI6MTY3NDg2OTcwNiwiaWF0IjoxNjc0ODY5MTA2fQ.BpHiRnrOf0Y8XY9fNmRseDqkpz5hVE4zHN2OIXYOJ_ntRMbYQxOm0fc-y8nNsRvP3fJCInR5V6kjXgjJiMRxWmdn8Rr5402eeqyEC2Xori62hxHD_6bwAtXne5mNIHJi59ZDq_23uw_sd_xuietPsp9VSjucgJ0OZS_zelQI8uLepElLwiKnXVAK_A6lcmESWHqat5c2ry58mmiKImgAG7BZpeYXEFzco9adeJvt-Cea4iCPUvFSGqj8uzDWuCHuxaGagbhDMit3fNtJm6t-W1RitbElE33YQsnUabdXLvXMVmHwt5dxBURDJ2cyTKOCzN1qeRDsvfH9AQMixAO71g
            var messageTag = document.getElementById("message");
            var inputTag = document.getElementById("myInput");

            // Displaying the value
            const ws = new WebSocket(`ws://localhost:8080/ws`, ["access_token", inputTag.value] );
            ws.onopen = function() {
                console.log("Connected to the web socket");
                messageTag.innerHTML = "Connected!";
            };

            ws.onerror = function (err) {
                console.log(err);
                messageTag.innerHTML = "Cannot connect to WS server";
            }
        }
    </script>
</body>

</html>